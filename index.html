<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Polyrhythms</title>
</head>
<body>
	<canvas id="myCanvas" style="background-color: black;"></canvas>
	<script src="track.js"></script>
	<script src="ball.js"></script>
	<script src="sound.js"></script>
	<script>
		const size = 700;
		myCanvas.width = size;
		myCanvas.height = size;

		const trackCenter = { x: size / 2, y: size / 2 };
		const trackMinRadius = 100;
		const trackStep = 15;
		const ballRadius = 10;
		const ballSpeed = 0.01; // Change the spped of the ball

		// Multiple ball & Multiple track
		const tracks = [];
		const balls = [];
		const N = 20; // Pair

		for (let i = 0; i < N; i++) {
			const trackRadius = trackMinRadius + i * trackStep; // Change the radius of the track
			const track = new Track(trackCenter, trackRadius);
			const ball = new Ball(track, ballRadius, ballSpeed);
			tracks.push(track);
			balls.push(ball);
		}

		const ctx = myCanvas.getContext("2d");

		animate();

		function animate() {
			ctx.clearRect(0, 0, size, size);
			tracks.forEach(track => track.draw(ctx));
			balls.forEach(ball => ball.draw(ctx));
			balls.forEach(ball => ball.move());
			// track.draw(ctx);
			// ball.move();
			// ball.draw(ctx);
			// ball.updatePosition();
			// ball.draw(ctx);
			requestAnimationFrame(animate);
		}
		
	</script>
</body>
</html>